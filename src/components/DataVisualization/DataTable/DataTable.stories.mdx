import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import PbDataTable from './DataTable.vue';
import PbButton from '../../Buttons/Button/Button.vue';

<Meta
  title="Components/Data Visualization/PbDataTable"
  component={PbDataTable}
  argTypes={{
       title: {
        control: {
          type: 'text',
        },
        defaultValue: 'Documento nova loja',
      },
      hiddenHeader: {
        control: {
          type: 'boolean',
        },
        defaultValue: 'true'
      },
      showSortIcon: {
        control: {
          type: 'boolean',
        },
        defaultValue: 'true'
      },
      entities: {
        control: {
          type: 'array',
        },
        defaultValue: [
          { appId: 'Fricassê', jsonData: { nome: '4 pessoas', country: 'França', address: { street: 'Frango',number: 'R$ 68,00' } } },
          { appId: 'Strogonoff', jsonData: { nome: '4 pesosas', country: 'Russia', address: { street: 'Creme de leite',number: 'R$ 38,00' }} },
          { appId: 'Banoffee', jsonData: { nome: '6 pessoas', country: 'Reino Unido', address: { street: 'Banana', number: 'R$ 50,00'} } },
          { appId: 'Torta alemã', jsonData: { nome: '6 pessoas', country: 'Alemanhã', address: { street: 'Bolacha', number: 'R$ 60,00' } } },
        ],
      },
      entitySchema: {
        control: {
          type: 'object',
        },
        defaultValue: {
          appId: {
            type: 'string',
            label: 'Pratos',
          },
          jsonData: {
            type: 'object',
            label: 'Dados',
            contentObject: {
              address: {
                type:'object',
                label: 'Endereço',
                contentObject:{
                  number: {
                    type: 'number',
                    label: 'Valor',
                  },
                  street: {
                    type: 'string',
                    label: 'Ingrediente  Chave',
                  }
                }
              },
              nome: {
                type: 'string',
                label: 'Serve',
              },
              country: {
                type: 'string',
                label: 'Pais',
              },
            },
          },
        },
      },
  }}
/>

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { PbDataTable, PbButton },
  template: `
    <div>
      <PbDataTable
        :title="title"
        :entities="entities"
        :entitySchema="entitySchema"
        :settings="{showSortIcon}"
      >
        <template #actions>
          <PbButton
            color="primary"
            buttonStyle="regular"
            icon="fas fa-trash"
            iconPosition="left"
          />
        </template>
      </PbDataTable>
    </div>
  `,
});

# **PbDataTable**
### The `PbDataTable` it's a pivot table.

### Purpose and Use Case

A `PbDataTable` is used to make a list of contents in a pivot table.

## Examples

### Default

<Canvas>
  <Story name="Default">
    {Template.bind({})}
  </Story>
</Canvas>
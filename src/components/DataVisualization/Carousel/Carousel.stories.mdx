import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import PbCarousel from './Carousel.vue';

<Meta
  title="Components/Data Visualization/PbCarousel"
  component={PbCarousel}
  argTypes={{
    data: {
      type: 'array',
      defaultValue: [
        {
          image: 'https://d3vnyi5j6ba1mc.cloudfront.net/Custom/Content/Products/12/84/1284548_jaqueta-com-capuz-330100920_s3_637656768437822531',
        },
        {
          image: 'https://d3vnyi5j6ba1mc.cloudfront.net/Custom/Content/Products/12/84/1284464_jaqueta-moletom-com-capuz-320101764_s1_637655025121094129'
        },
        {
          image: 'https://d3vnyi5j6ba1mc.cloudfront.net/Custom/Content/Products/12/66/1266250_jaqueta-colcci-320101793_s1_637656722083809472',
        },
      ]
    },
    is3d: {
      type: 'boolean',
      defaultValue: false,
    },
    fixedHeight: {
      type: 'String',
      defaultValue: '900px',
    },
    draggingDistance: {
      type: 'number',
      defaultValue: 50,
    },
    preventYScroll: {
      type: 'boolean',
      defaultValue: true,
    },
    autoplay: {
      type: 'boolean',
      defaultValue: false,
    },
    progress: {
      type: 'boolean',
      defaultValue: false,
    },
    fractions: {
      type: 'boolean',
      defaultValue: false,
    },
    bullets: {
      type: 'boolean',
      defaultValue: true,
    },
    carouselStyle: {
      control: {
        type: 'select',
        options: ['small', 'medium', 'large'],
      },
      defaultValue: 'large',
    },
  }}
/>

export const Template = (args, { argTypes}) => ({
  props: Object.keys(argTypes),
  components: { PbCarousel },
  template: `
    <div style="width: 500px;">
      <PbCarousel
      :data="data"
      :prevent-y-scroll="preventYScroll"
      :dragging-distance="draggingDistance"
      :fixed-height="fixedHeight"
      :is3d="is3d"
      :autoplay="autoplay"
      :progress="progress"
      :fractions="fractions"
      :bullets="bullets"
      :carousel-style="carouselStyle"
      />
    </div>
  `,
});

# **PbCarousel**
### The `PbCarousel` component is a wrapper for the vueper-slides component.

### Purpose and Use Case

The `PbCarousel` is a A touch ready and responsive slideshow / carousel.
You can check the vueper-slides documentation [here](https://antoniandre.github.io/vueper-slides/)

## Configuration

### Properties

| Property                | Type                 | Default | Description
|:------------------------|:---------------------|:--------|:----------------------------------------------------------------------------------------------------------------------------------------------------|
| alwaysRefreshClones     | Boolean              | false   | make sure to always keep the clones up to date                                                                                                      |
| arrows                  | Boolean              | true    | disable or enable the navigation arrows                                                                                                             |
| arrowsOutside           | Boolean              | false   | place the navigation arrows outside of the slideshow                                                                                                |
| autoplay                | Boolean              | false   | plays a slideshow automatically                                                                                                                     |
| breakpoints             | Object               | {}      | with this option you can provide different configurations to apply to the slideshow at a particular screen width                                    |
| bullets                 | Boolean              | true    | disable or enable the slides pagination (bullet points)                                                                                             |
| bulletsOutside          | Boolean              | false   | if bullets is set to true, place the slides index inside or outside the slideshow track                                                             |
| disable                 | Boolean              | false   | disable or enable the whole slideshow                                                                                                               |
| disableArrowsOnEdges    | Boolean              | false   | disable the left or right arrow when respectively, no previous or no next slides are available                                                      |
| draggingDistance        | Number               | null    | with this option you can provide a specific dragging distance for touch-enabled slideshows                                                          |
| duration                | Number, String       | 4000    | when autoplay in on, defines an amount of time in milliseconds before the autoplaying slideshow changes slide automatically                         |
| fade                    | Boolean              | false   | sets the transition type to fade when changing slide                                                                                                |
| fixedHeight             | Boolean, String      | false   | a string made of the height amount and the CSS unit will set the height directly. A boolean true value will let you set the height from your CSS    |
| fractions               | Boolean              | false   | disable or enable the fractional representation of `current slide / total slides`                                                                   |
| gap                     | Number               | 0       | set a gap between all the slides. The gap is set in percentage of the slideshow width                                                               |
| infinite                | Boolean              | true    | When set to true, the slideshow acts like a carousel                                                                                                |
| initSlide               | Number               | 1       | Init the slideshow with a specific slide as the active slide                                                                                        |
| lazy                    | Boolean              | false   | lazy loads each slide image when the slide becomes visible                                                                                          |
| lazyLoadOnDrag          | Boolean              | false   | lazy loads the next slide images while user is dragging towards that slide                                                                          |
| pageScrollingElement    | String               | ""      | use this option to specify another DOM element selector if it's not the HTML document itself that is scrollable                                     |
| parallax                | Boolean, Number      | false   | when set to true, 1 or -1, adds a parallax effect on the slideshow                                                                                  |
| parallaxFixedContent    | Boolean              | false   | allows the slide title and/or content to be fixed on top of the moving background                                                                   |
| pauseOnHover            | Boolean              | true    | stops the autoplay while hovering then resets to the defined duration when you stop hovering                                                        |
| pauseOnTouch            | Boolean              | true    | pauseOnTouch stops the autoplay as soon as you touch any element contained in the slideshow                                                         |
| preventYScroll          | Boolean              | false   | for touch-enabled slideshows, enable or disable the Y-axis scroll while dragging slides                                                             |
| progress                | Boolean              | false   | disable or enable the top linear progress bar.                                                                                                      |
| rtl                     | Boolean              | false   | sets the slideshow to an RTL direction (right to left)                                                                                              |
| slideContentOutside     | Boolean, String      | false   | Display the current slide title & content outside the slide. [false, 'top', 'bottom']                                                               |
| slideContentOutsideClass| String               | ""      | with this option you can have a specific CSS class to style your slide contents when it's outside the active slide                                  |
| slideImageInside        | Boolean              | false   | a `<div class="vueperslide__image">` will be created inside each slide                                                                              |
| slideMultiple           | Boolean              | false   | allows you to slide multiple items at once when clicking arrows, or on drag                                                                         |
| slideRatio              | Number               | 1/3     | sets the slideshow ratio so it will naturally stay ratio-ed on different browser width                                                              |
| touchable               | Boolean              | true    | Whether the slideshow should allow slide dragging to change slide or not                                                                            |
| transitionSpeed         | Number, String       | 600     | defines how long the transition from a slide to another will last - in milliseconds                                                                 |
| visibleSlides           | Number               | 1       | allows you to show multiple items per slide.                                                                                                        |
| 3d                      | Boolean              | false   | allows you to slide one slide at a time with a 3D effect transition                                                                                 |
| data                    | Object               | {}      | The data you can put in the carousel. You can pass: `title`. `content`, `link`, `openInNew`, `image`, `video`, `duration`                           |
| carouselStyle           | String               | large   | The size of the component arrows and bullets. ['small', 'medium', 'large']                                                                          |

### Events

| Event                       | Description
|:----------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------
| ready                       | Fired right after the initialization of the slideshow is complete.                                                                                               |
| previous                    | Fired when going to the previous slide either from user drag or from slideshow arrows or from keyboard arrows.                                                   |
| next                        | Fired when going to the next slide either from user drag or from slideshow arrows or from keyboard arrows                                                        |
| before-slide                | Fired on slide change, just before the effective change.                                                                                                         |
| slide                       | Fired on slide change, just after the effective change                                                                                                           |
| autoplay-pause              | Fired when autoplay is set to true, and a pause has been triggered either by a mouseover or by calling the function pauseAutoplay() via Vue refs                 |
| autoplay-resume             | Fired when autoplay is set to true, and a pause has been triggered either by a mouseover and mouseout or by calling the function resumeAutoplay() via Vue refs   |
| image-loaded                | Fired when lazy is set to true, and the image succeeded to load.                                                                                                 |
| image-failed                | Fired when lazy is set to true, and the image failed to load                                                                                                     |

## Examples

### Default

<Canvas>
  <Story name="Default">
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="With 3d animation"
    args={{
      is3d: true
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Auto Play"
    args={{
      autoplay: true
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Fractions & Progress"
    args={{
      fractions: true,
      progress: true,
      bullets: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
